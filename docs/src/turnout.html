<!DOCTYPE html>
<html lang="ko">
<head>
  @@include("include/head.html", {
    "type": ""
  })
</head>
<body class="body">
  @@include("include/header.html", {
    "active": "n2",
    "type": ""
  })
  @@include("include/menu.html", {
    "type": "vote",
    "active": "n1",
  })  
  <ul class="menu item4">
    <li><a href="turnout.html" class="active">투표현황</a></li>
    <li><a href="expect.html" class="disabled">출구조사</a></li>
    <li><a href="voteall.html" class="disabled">개표현황</a></li>
    <li><a href="live.html">생중계</a></li>
  </ul>
  <section class="section">
    <div class="cluster_title_more_wrap">
      <dl class="news_cluster_title">
        <dt>전국 투표율 <button>@@include("svg/icon_refresh.html")</button></dt>
        <dd>50.2<span>%</span></dd>
      </dl>
      <div class="vote_total_wrap">
        <p class="vote_total_time">(3시 기준 집계중)</p>
        <div class="vote_total_count">
          <dl>
            <dt>투표자수</dt>
            <dd>21,000,230명</dd>
          </dl>
          <dl>
            <dt>선거인수</dt>
            <dd>41,210,349명</dd>
          </dl>
        </div>
      </div>
    </div>    
  
    <div class="vote_over_time_banner">
      <p>오후 6시 투표 종료까지 <span>12시간 21분 42초</span> 남음</p>
    </div>
    <div class="vote_over_time_notice_container">
      <div class="wrap">
        <a href="#" class="vote_over_time_notice"><button>@@include("svg/icon_survey_info.html")</button> 투표 전 꼭 확인하세요. <span class="arrow"></span></a>
      </div>
    </div>
  </section>
  <hr class="cluster_line">
  <section class="section">
    <div class="cluster_title_more_wrap">
      <p class="news_cluster_title">시간대별 투표율 <span>(%)</span></p>
    </div>    
    <div class="graph_wrap">
      <canvas id="lineArea"></canvas>
      <ul class="line_guide">
        <li>22대 총선</li>
        <li>21대 총선</li>
        <li>8회 지방선거</li>
      </ul>
    </div>

    <ul class="timeSelect">
      <li>7</li>
      <li>8</li>
      <li>9</li>
      <li>10</li>
      <li>11</li>
      <li>12</li>
      <li>13</li>
      <li>14</li>
      <li>15</li>
      <li>16</li>
      <li>17</li>
      <li>18</li>
      <li><span>19:30</span></li>
    </ul>
    
    <div class="vote_graph_time_table_wrap">
      <table class="fixed_table">
        <thead>
          <tr>
            <th><span>구분</span></th>
          </tr>        
        </thead>
        <tbody>
          <tr>
            <td><span>22대 국회의원 선거</span></td>
          </tr>
          <tr>
            <td><span>21대 국회의원 선거</span></td>
          </tr>
          <tr>
            <td><span>8회 지방 선거</span></td>
          </tr>                    
        </tbody>
      </table>
      <div class="scroll_table_wrap">
        <table class="scroll_table">
          <thead>
            <tr class="scroll_time">
              <th data-time="0700"><span>7시</span></th>
              <th data-time="0800"><span>8시</span></th>
              <th data-time="0900"><span>9시</span></th>
              <th data-time="1000"><span>10시</span></th>
              <th data-time="1100"><span>11시</span></th>
              <th data-time="1200"><span>12시</span></th>
              <th data-time="1300"><span>13시</span></th>
              <th data-time="1400"><span>14시</span></th>
              <th data-time="1500"><span>15시</span></th>
              <th data-time="1600"><span>16시</span></th>
              <th data-time="1700"><span>17시</span></th>
              <th data-time="1800"><span>18시</span></th>
              <th data-time="1930"><span>19시30분</span></th>
            </tr>
          </thead>
          <tbody>
            <tr class="scroll_time_cell">
              <td><span>5.0%</span></td>
              <td><span>10.0%</span></td>
              <td><span>15.0%</span></td>
              <td><span>20.0%</span></td>
              <td><span>25.0%</span></td>
              <td><span>30.0%</span></td>
              <td><span>35.0%</span></td>
              <td><span>40.0%</span></td>
              <td><span>45.0%</span></td>
              <td><span>50.0%</span></td>
              <td><span>55.0%</span></td>
              <td><span>60.0%</span></td>
              <td><span>90.0%</span></td>      
            </tr>
            <tr class="scroll_time_cell">
              <td><span>2.2%</span></td>
              <td><span>5.1%</span></td>
              <td><span>8.0%</span></td>
              <td><span>11.4%</span></td>
              <td><span>15.3%</span></td>
              <td><span>19.2%</span></td>
              <td><span>49.7%</span></td>
              <td><span>53.0%</span></td>
              <td><span>56.5%</span></td>
              <td><span>59.7%</span></td>
              <td><span>62.6%</span></td>
              <td><span>66.2%</span></td>
              <td><span>-</span></td>
            </tr>
            <tr class="scroll_time_cell">
              <td><span>1.7%</span></td>
              <td><span>3.8%</span></td>
              <td><span>6.0%</span></td>
              <td><span>8.7%</span></td>
              <td><span>12.0%</span></td>
              <td><span>15.0%</span></td>
              <td><span>38.3%</span></td>
              <td><span>40.7%</span></td>
              <td><span>43.1%</span></td>
              <td><span>45.4%</span></td>
              <td><span>47.6%</span></td>
              <td><span>50.0%</span></td>
              <td><span>50.9%</span></td>
            </tr>          
          </tbody>
        </table>
      </div>
    </div>
  </section>
  <hr class="cluster_line">
  <section class="section">
    <div class="cluster_title_more_wrap">
      <p class="news_cluster_title">지역별 투표율 <span>(%)</span></p>
      <div class="vote_total_wrap">
        <p class="vote_total_time">(3시 기준 집계중)</p>
      </div>
    </div>  
    @@include("include/vote_swipe_buttons.html", {
      "value1": "22대 국회의원 선거",
      "value2": "지난 21대 국회의원 선거",
    })  
    <div class="vote_swipe_container">
      <ul class="swiper-wrapper">
        <li class="swiper-slide">
          <div class="vote_rate_map_wrap">
            @@include("svg/map.html", {
              className: "map",            
            })
            <ul class="vote_rate_items_wrap">
              <li class="local11">
                <dl>
                  <dt>서울</dt>
                  <dd>1.8</dd>
                </dl>
              </li>
              <li class="local26 low">
                <dl>
                  <dt>부산</dt>
                  <dd>1.5</dd>
                </dl>
              </li>
              <li class="local27 high">
                <dl>
                  <dt>대구</dt>
                  <dd>2.4</dd>
                </dl>
              </li>
              <li class="local28">
                <dl>
                  <dt>인천</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local29">
                <dl>
                  <dt>광주</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local30">
                <dl>
                  <dt>대전</dt>
                  <dd>1.8</dd>
                </dl>
              </li>
              <li class="local31">
                <dl>
                  <dt>울산</dt>
                  <dd>2.2</dd>
                </dl>
              </li>
              <li class="local51">
                <dl>
                  <dt>세종</dt>
                  <dd>1.9</dd>
                </dl>
              </li>         
              <li class="local41">
                <dl>
                  <dt>경기</dt>
                  <dd>1.9</dd>
                </dl>
              </li>        
              <li class="local52">
                <dl>
                  <dt>강원</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local43 high">
                <dl>
                  <dt>충북</dt>
                  <dd>2.4</dd>
                </dl>  
              </li>
              <li class="local44">
                <dl>
                  <dt>충남</dt>
                  <dd>2.0</dd>
                </dl>
              </li>
              <li class="local53 low">
                <dl>
                  <dt>전북</dt>
                  <dd>1.5</dd>
                </dl>
              </li>
              <li class="local46 low">
                <dl>
                  <dt>전남</dt>
                  <dd>1.5</dd>
                </dl>
              </li>
              <li class="local47">
                <dl>
                  <dt>경북</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local48">
                <dl>
                  <dt>경남</dt>
                  <dd>2.2</dd>
                </dl>
              </li>
              <li class="local49 high">
                <dl>
                  <dt>제주</dt>
                  <dd>2.4</dd>
                </dl>
              </li>
            </ul>
            <ul class="vote_rate_guide">
              <li class="highest">최고</li>
              <li class="lowest">최저</li>
            </ul>
            <p class="vote_rate_map_caption">
              지난 선거의 동일 시간대<br/>
              투표율과 비교해 보세요!
            </p>
          </div>
        </li>
        <li class="swiper-slide">
          <div class="vote_rate_map_wrap">
            @@include("svg/map.html", {
              className: "map",            
            })
            <ul class="vote_rate_items_wrap">
              <li class="local11">
                <dl>
                  <dt>서울</dt>
                  <dd>1.8</dd>
                </dl>
              </li>
              <li class="local26 low">
                <dl>
                  <dt>부산</dt>
                  <dd>1.5</dd>
                </dl>
              </li>
              <li class="local27 high">
                <dl>
                  <dt>대구</dt>
                  <dd>2.4</dd>
                </dl>
              </li>
              <li class="local28">
                <dl>
                  <dt>인천</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local29">
                <dl>
                  <dt>광주</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local30">
                <dl>
                  <dt>대전</dt>
                  <dd>1.8</dd>
                </dl>
              </li>
              <li class="local31">
                <dl>
                  <dt>울산</dt>
                  <dd>2.2</dd>
                </dl>
              </li>
              <li class="local51">
                <dl>
                  <dt>세종</dt>
                  <dd>1.9</dd>
                </dl>
              </li>         
              <li class="local41">
                <dl>
                  <dt>경기</dt>
                  <dd>1.9</dd>
                </dl>
              </li>        
              <li class="local52">
                <dl>
                  <dt>강원</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local43 high">
                <dl>
                  <dt>충북</dt>
                  <dd>2.4</dd>
                </dl>  
              </li>
              <li class="local44">
                <dl>
                  <dt>충남</dt>
                  <dd>2.0</dd>
                </dl>
              </li>
              <li class="local53 low">
                <dl>
                  <dt>전북</dt>
                  <dd>1.5</dd>
                </dl>
              </li>
              <li class="local46 low">
                <dl>
                  <dt>전남</dt>
                  <dd>1.5</dd>
                </dl>
              </li>
              <li class="local47">
                <dl>
                  <dt>경북</dt>
                  <dd>2.1</dd>
                </dl>
              </li>
              <li class="local48">
                <dl>
                  <dt>경남</dt>
                  <dd>2.2</dd>
                </dl>
              </li>
              <li class="local49 high">
                <dl>
                  <dt>제주</dt>
                  <dd>2.4</dd>
                </dl>
              </li>
            </ul>
            <ul class="vote_rate_guide">
              <li class="highest">최고</li>
              <li class="lowest">최저</li>
            </ul>
            <p class="vote_rate_map_caption">
              지난 선거의 동일 시간대<br/>
              투표율과 비교해 보세요!
            </p>
          </div>
        </li>        
      </ul>
    </div>    
  </section>
  <hr class="cluster_line">

  <ul class="candidate_caption">
    <li>사전, 거소, 선상, 재외 투표율은 13시 투표율에 합산됩니다.</li>
    <li>투·개표 정보는 <a href="#">중앙선거관리위원회</a>에서 제공하며, 정보제공처의 사정에 따라 지연되거나 변경될 수 있습니다.</li>
  </ul> 
  <hr class="cluster_line">
  <section class="ad_section" style="background-color:#ececec;">
    <iframe src="../iframe/ad320x150.html" frameborder="0"></iframe>
  </section>  
  <hr class="cluster_line">
  <section class="reply_section">
    @@include("include/special_reply.html", {
      type: "vote"
    })
  </section>
  <hr class="cluster_line">
  <a href="#" class="guide_button" aria-label="내 투표소 찾기"></a>
  <hr class="cluster_line">
  <section class="ad_section" style="background-color:#ececec;">
    <iframe src="../iframe/ad320x150.html" frameborder="0"></iframe>
  </section>  
  <hr class="cluster_line">
  @@include("include/scroll_button.html")
  @@include("include/footer.html")
  <script>

  var vote = new Graph([
      {
        activeData: false,
        color: '#979DE4', // 선 그래프 전체 컬러
        data:  [2.2, 5.1, 8.0, 11.4, 15.3, 19.2, 49.7, 53.0, 56.5, 59.7, 62.6, 66.2,] // 투표율 20대 대선
      },
      {
        activeData: false,
        color: '#5FCAD3', // 선 그래프 전체 컬러
        data:  [1.7, 3.8, 6.0, 8.7, 12.0, 15.0, 38.3, 40.7, 43.1, 45.4, 47.6, 50.0, 50.9] 
        // 제8회 지방선거
      },
      {
        activeData: true,
        color: '#CD20A7',
        text: {
          font: '300 11px Arial',
          align: 'center',
          color: '#CD20A7'
        },
        data: [5.0, 10.0, 15.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0, 50.0, 55.0, 60.0]
        // 22대 총선
      }
  ], 'lineArea');
  var options = {
      dotSize: 3.5, // 점 크기
      x: [7,8,9,10,11,12,13,14,15,16,17,18,19.5], // 시간
      color: '#6486B8', // 현재 시간 활성화 컬러
      current: 18 // 현재 시간
  }
  vote.lineGraph(options);
  window.addEventListener('resize', function(){
      if (vote.timer) clearTimeout(vote.timer);
      vote.timer = setTimeout(function(){
          vote.setCanvasSize();
          vote.lineGraph(options);
      }, 400)
  })
  document.addEventListener('DOMContentLoaded', function(){
      if (document.getElementById('lineArea')) {
      function replaceAll(strTemp, strValue1, strValue2){
          while(true){
              if( strTemp.indexOf(strValue1) !== -1 ) {
                  strTemp = strTemp.replace(strValue1, strValue2);
              } else {
                  break;
              }
          }
          return strTemp;
      }
      const timeList = document.querySelectorAll('.timeSelect > li');
      timeList.forEach((function(list, idx){
        if(idx === vote.currentIdx){
          // if(options.current === 'end'){
          list.classList.add('active');
          if(options.current === 'end'){
            const spanElement = document.createElement('span');
            const emElement = document.createElement('p');
            emElement.className = "state final";
            list.appendChild(emElement, spanElement);
          } else if(options.current === 19.5) {
            return;
          } else {
            const spanElement = document.createElement('span');
            const emElement = document.createElement('p');
            emElement.className = "state current";
            list.appendChild(emElement, spanElement);
          }
          
        }
      }))
    }
  })
  </script>
  <script>
    voteSwiper();    
    voteTimeTable({
      // 총선 투표 유효날짜 지정
      start: '2024-04-01T00:00:00',
      end: '2024-04-01T23:59:59',
      // 현재 시각 세팅
      current: '2024-04-01T17:00:00',
    });
    xScrollActive({
      box: document.querySelector('.scroll_table_wrap'),
      list: document.querySelectorAll('.scroll_time th'),
    })
  </script>
</body>
</html>