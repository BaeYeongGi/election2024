function getRandomIdx(e){return Math.floor(Math.random()*e)}function isiOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function setIOS(){isiOS()&&document.body.classList.add("ios")}function seatsOf300(e){applyDataToSvg(e);applyDataToSvg([{name:"더불어민주당",value:163,clan:"clan001"},{name:"미래통합당",value:84,clan:"clan002"},{name:"미래한국당",value:19,clan:"clan002"},{name:"더불어시민당",value:17,clan:"clan001"},{name:"정의당",value:6,clan:"clan003"},{name:"국민의당",value:3,clan:"clan004"},{name:"열린민주당",value:3,clan:"clan005"},{name:"무소속",value:5,clan:"clan00_independent"}],1)}function applyDataToSvg(e,t=0){e.sort((e,t)=>t.value-e.value);const c=document.querySelectorAll(".seat")[t];if(c){let o=0;e.forEach(e=>{var{value:t,clan:n}=e;for(let e=0;e<t;e++){var a=c.querySelectorAll("path")[o];a&&a.classList.add(n),o++}})}}function rankTop5(){var t=document.querySelectorAll(".rank"),e=document.querySelectorAll("section");for(let e=0;e<5;e++)t[e].classList.add("top");e.forEach(e=>{e.classList.add("rank")})}function fixedTabs({fixedTarget:e,fixedTop:t}){xScrollActive({box:document.querySelector(".keyword_swiper"),list:document.querySelectorAll(".keyword_swiper li a")}),window.addEventListener("scroll",function(){window.scrollY>=t-42?(e.classList.add("fixed"),document.body.style.paddingTop=e.offsetHeight+"px"):(e.classList.remove("fixed"),document.body.style.paddingTop=0)})}function debounce(a,o,c){let i;return function(){const e=this,t=arguments;var n=c&&!i;clearTimeout(i),i=setTimeout(function(){i=null,c||a.apply(e,t)},o),n&&a.apply(e,t)}}const handleScroll=debounce(function(){var e=window.scrollY,t=document.querySelector(".scroll_btns_wrap");t&&(150<=e?t.classList.add("active"):t.classList.remove("active"))},200);function mainNewsSwiper(){const n=document.querySelector(".nav");var e=document.querySelectorAll(".news_cluster_swiper .swiper-slide");const a=document.querySelector(".main_slide"),o=new Swiper(".news_cluster_swiper",{slidesPerView:1,resistanceRatio:0,spaceBetween:20,pagination:{el:".news_cluster_swiper .swiper-pagination"},clickable:!0,navigation:{nextEl:".news_cluster_swiper .next",prevEl:".news_cluster_swiper .prev"}});e.forEach((e,t)=>{e.id===window.location.search.split("&")[window.location.search.split("&").length-1]&&""!==e.id&&(a.classList.add("target"),setTimeout(()=>{window.scrollTo({top:a.getBoundingClientRect().top-n.offsetHeight})},100),o.slideTo(t))})}function malmalmalSwiper({links:e}){const t=document.querySelector(".cluster_title_more_wrap .talk"),n=new Swiper(".mal_swiper",{spaceBetween:20,resistanceRatio:0,autoHeight:!0,pagination:{el:".mal_swiper  .swiper-pagination"}}),a=document.querySelectorAll(".mal_buttons li button");t.href=e[n.activeIndex],a.forEach((e,t)=>{e.addEventListener("click",function(){n.slideTo(t)})}),a[n.activeIndex].classList.add("active"),n.on("slideChange",function(){a.forEach(e=>e.classList.remove("active")),a[n.activeIndex].classList.add("active"),t.href=e[n.activeIndex]}),n.slideTo(getRandomIdx(n.slides.length))}function rankingNewsSwiper(){new Swiper(".news_rank_swiper",{resistanceRatio:0,spaceBetween:20,pagination:{el:".news_rank_swiper .swiper-pagination"}})}function malTopEvent(){malTopMoveComment(),malTopRolling()}function malTopMoveComment(){const e=document.querySelector(".reply_wrap");var t=document.querySelector(".mal_comment");t&&t.addEventListener("click",function(){window.scrollTo(0,e.offsetTop-130)})}function malTopRolling(){new Swiper(".comment_container",{direction:"vertical",resistanceRatio:0,autoplay:{delay:2e3},loop:!0,simulateTouch:!1})}function malCommentCreateUI(){const s=document.querySelector(".reply_wrap"),d=document.querySelector(".mal_comment_blank_area");var e=document.querySelectorAll(".mal_contents .comment");const u=document.getElementById("op_write");function f(){d.classList.remove("mal_comment_articles"),d.innerHTML=""}e.forEach(e=>{e.addEventListener("click",function(e){window.scrollTo(0,s.offsetTop-130),u.click();var t,n,a,o,c=e.target.closest("li").querySelector(".mal_text dd").innerText,i=e.target.closest("li").querySelector(".img_wrap img").src,l=e.target.closest("li").querySelector(".mal_text").href,r=e.target.closest("li").querySelector(".mal_text .name").innerText,e=e.target.closest("li").querySelector(".mal_text .party").innerText;c=c,i=i,l=l,r=r,e=e,d.classList.add("mal_comment_articles"),(t=document.createElement("button")).className="close",t.addEventListener("click",f),(n=document.createElement("a")).className="img_wrap",n.href=l,(a=document.createElement("img")).src=i,a.alt=c,(i=document.createElement("a")).className="text_wrap",i.href=l,(l=document.createElement("div")).className="info",(o=document.createElement("span")).className="name",o.textContent=r,(r=document.createElement("span")).className="party",r.textContent=e,(e=document.createElement("p")).className="text",e.textContent=c,d.innerHTML="",d.append(n,i,t),n.append(a),i.append(l,e),l.append(o,r)})})}function malGuidePopupUI(){const n=document.querySelector(".dimmed");var e=document.querySelectorAll(".mal_guide_button");const a=document.querySelectorAll(".info_layer_popup"),o=document.querySelectorAll(".mal_guide_area");n.addEventListener("click",function(e){e.target===e.currentTarget&&(e.target.classList.remove("active"),a.forEach(function(e){e.classList.remove("active")}),o.forEach(function(e){e.classList.remove("active")}))}),e.forEach(function(e,t){e.addEventListener("click",function(){a[t].classList.add("active"),o[t].classList.add("active"),n.classList.add("active")})})}function malRemoveButtonsText(){const t=document.querySelectorAll(".mal_count .comment span"),n=document.querySelectorAll(".up_down_wrap span");function a(){window.screen.width<=400&&(t.forEach(function(e){28<e.offsetWidth&&(e.parentNode.querySelector("p").style.display="none")}),n.forEach(function(e){24<e.offsetWidth&&(e.parentNode.querySelector("p").style.display="none")}))}a(),window.addEventListener("orientationchange",function(e){window.innerWidth<=window.innerHeight&&400<=window.screen.width&&(t.forEach(function(e){28<e.offsetWidth&&(e.parentNode.querySelector("p").style.display="inline")}),n.forEach(function(e){24<e.offsetWidth&&(e.parentNode.querySelector("p").style.display="inline")})),a()})}function candidateToggleEvent(e){const o=document.querySelector(".more_button"),c=document.querySelector(".candidate_search_list");var t=document.querySelectorAll(".candidate_search_list a");const i=document.querySelector(".candidate_blank");o.addEventListener("click",function(e){e.target.classList.toggle("active"),c.classList.toggle("active"),i.classList.toggle("hide")}),t.forEach(function(e,t,n){function a(){e.offsetTop<50?o.setAttribute("disabled",!0):o.removeAttribute("disabled")}e.classList.contains("active")&&50<e.offsetTop&&(o.classList.add("active"),c.classList.add("active"),i.classList.add("hide")),t===n.length-1&&(a(),window.addEventListener("resize",function(e){a()}))})}function candidateSelectActiveStyle(){const o=document.querySelectorAll(".select");o.forEach(function(n,e){const a=e+1;n.addEventListener("change",function(e){var t=e.target.value;if("default"!==e.target.value&&(n.classList.add("active"),o[a])&&o[a].removeAttribute("disabled"),"default"===t)for(let e=a;e<o.length;e++)o[e].setAttribute("disabled","true"),o[e].classList.remove("active"),o[e].value="default"})})}function candidateToggleTable(){const n=document.querySelectorAll(".candidate_button"),a=document.querySelectorAll(".candidate_table_wrap");n.forEach(function(e,t){e.addEventListener("click",function(e){a[t].classList.toggle("active"),n[t].classList.toggle("active")})})}function navigationEvent(){fixedNaviagtion(),disabledGnbPop()}function fixedNaviagtion(){const e=document.querySelector(".nav"),t=e.getBoundingClientRect().top;window.addEventListener("scroll",function(){window.scrollY>=t+20?e.classList.add("fixed"):e.classList.remove("fixed")})}function xScrollActive({box:t,list:e}){e.forEach(function(e){e.classList.contains("active")&&("scroll_table_wrap"===t.className?t.scrollLeft=e.getBoundingClientRect().left-140:t.scrollLeft=e.getBoundingClientRect().left-10)})}function disabledGnbPop(){var e=document.querySelectorAll(".disabled");e&&e.forEach(function(e){e.addEventListener("click",function(){e.querySelector(".open_date").classList.add("active"),setTimeout(()=>{e.querySelector(".open_date").classList.remove("active")},2e3)})})}function showRandomCandidateList(){var e=document.querySelector(".candidate_section > ul"),t=document.querySelectorAll(".candidate_section > ul > li"),n=Math.floor(e.scrollWidth/t.length);e.scrollLeft=n*getRandomIdx(t.length)}function voteVersusSwiper(c){var e=document.querySelectorAll(".vote_versus_tab_container");const i=document.querySelectorAll(".vote_versus_contents_container");i.forEach(function(e,t){e.parentElement.querySelector(".mutate_links")&&(e.parentElement.querySelector(".mutate_links").href=c.links[t][0])}),e.forEach((t,n)=>{const a=t.querySelectorAll("li button");t.parentElement.querySelector(".more");const o=new Swiper(i[n],{spaceBetween:15,pagination:{el:i[n].querySelector(".swiper-pagination")},resistanceRatio:0,navigation:{nextEl:i[n].querySelector(".next"),prevEl:i[n].querySelector(".prev")}});a[o.activeIndex].classList.add("active"),a.forEach((e,t)=>{e.addEventListener("click",function(){o.slideTo(t)})}),o.on("slideChange",function(e){t.scrollLeft=a[o.activeIndex].offsetLeft-15,a.forEach(e=>{e.classList.remove("active")}),a[o.activeIndex].classList.add("active"),i[n].parentElement.querySelector(".mutate_links")&&(i[n].parentElement.querySelector(".mutate_links").href=c.links[n][o.activeIndex])}),i[n].classList.contains("target")&&i[n].querySelectorAll(".swiper-slide").forEach(function(e,t){e.id===window.location.search.split("&")[window.location.search.split("&").length-1]&&""!==e.id&&(setTimeout(()=>{window.scrollTo({top:document.querySelector(".target_section").getBoundingClientRect().top-document.querySelector(".nav").offsetHeight})},100),o.slideTo(t))})})}function voteHideGraphText(){const e=document.querySelectorAll(".graph_bar li");function t(){e.forEach(function(e){e.offsetWidth<56?e.classList.add("hide_text"):e.classList.remove("hide_text")})}t(),window.addEventListener("resize",function(){t()})}function voteSwiper(){const o=document.querySelectorAll(".vote_swipe_container");var e=document.querySelectorAll(".vote_swipe_buttons");const c=document.querySelector(".map_data_popup .more");e.forEach((e,t)=>{const n=e.querySelectorAll("button"),a=new Swiper(o[t],{pagination:{el:o[t].querySelector(".swiper-pagination")},spaceBetween:15,resistanceRatio:0,autoHeight:!0});n.forEach((e,t)=>{e.addEventListener("click",function(){a.slideTo(t)})}),a.on("slideChange",function(){n.forEach(e=>e.classList.remove("active")),n[a.activeIndex].classList.add("active"),c&&(1===a.activeIndex?c.classList.add("hide"):c.classList.remove("hide"))})})}function showData(e,n){var t=document.querySelector(".map_data_popup .local"),a=document.querySelector(".map_data_popup .more"),o=document.querySelector(".map_data_popup");const c=o.querySelector(".data_list");t.innerText=e.name,a&&(a.href=e.link),c.innerHTML="",Object.values(e.list).forEach(e=>{var t=document.createElement("li");t.innerHTML=`
      <p><span class="${e.clan} bg"></span>${e.party}</p>
      <span class="count">${"ratio"===n?Number.parseFloat(e.value).toFixed(1):e.value}</span>
    `,c.appendChild(t)}),o.classList.add("active")}function voteMapSetData(r){const e=document.querySelector(".map_data_popup");var t=document.querySelector(".map_data_popup .close");const s=document.querySelectorAll(".map_wrap")[0].querySelectorAll("svg path"),d=document.querySelectorAll(".map_wrap")[1].querySelectorAll("svg path"),n=document.querySelectorAll(".local_tabs")[0].querySelectorAll("li button"),a=document.querySelectorAll(".local_tabs")[1].querySelectorAll("li button");function o(e,n){e.forEach(function(e){e.addEventListener("click",function(){var e,t=this.dataset.local;(e=(e=n)[t])&&showData(e,r.type)})})}Object.keys(r.data.current).forEach(function(e){const t=r.data.current[e].list[0].value,n=r.data.current[e].list[1]?r.data.current[e].list[1].value:0;let a,o;var c,i,l;a=t===n?"":r.data.current[e].list[0].clan,"voteall"===r.type&&(o=Math.floor((t-n)/r.data.current[e].seat*100)),"ratio"===r.type&&(o=t),c=e,i=a,l=t===n?"":1<=o&&o<34?"step1":34<=o&&o<68?"step2":68<=o&&o<=100?"step3":void 0,s.forEach(function(e){e.dataset.local===c&&e.classList.add(i+"_"+l)})}),Object.keys(r.data.previous).forEach(function(e){var t,n,a,o=r.data.previous[e].list[0].clan,c=r.data.previous[e].list[0].value,i=r.data.previous[e].list[1]?r.data.previous[e].list[1].value:0;let l;"voteall"===r.type&&(l=Math.floor((c-i)/r.data.previous[e].seat*100)),"ratio"===r.type&&(l=c),t=e,n=o,a=1<=l&&l<34?"step1":34<=l&&l<68?"step2":68<=l&&l<=100?"step3":void 0,d.forEach(function(e){e.dataset.local===t&&e.classList.add(n+"_"+a)})}),o(n,r.data.current),o(a,r.data.previous),n.forEach(function(e){e.setAttribute("disabled",!0)}),a.forEach(function(e){e.setAttribute("disabled",!0)}),Object.keys(r.data.current).forEach(e=>{var t;t=e,n.forEach(function(e){t===e.dataset.local&&e.removeAttribute("disabled")})}),Object.keys(r.data.previous).forEach(e=>{var t;t=e,a.forEach(function(e){t===e.dataset.local&&e.removeAttribute("disabled")})}),e.addEventListener("click",function(e){e.target===this&&this.classList.remove("active")}),t.addEventListener("click",function(){e.classList.remove("active")})}function sectionTargeting(n){let e,a;"cid"===n.id&&(e=document.querySelectorAll(".section"),a=document.querySelector(".keyword_swiper:not(.main)")),"survey"===n.id&&(e=document.querySelectorAll(".news_survey_list > li"),a=document.querySelector(".keyword_swiper:not(.main)")),"item"===n.id&&(e=document.querySelectorAll(".mal_target"),a=document.querySelector(".keyword_swiper:not(.main)")),"candidate"===n.id&&(e=document.querySelectorAll(".candidate_title_wrap"),a=document.querySelector(".candidate_clan_buttons_wrap")),"candidateList"===n.id&&(e=document.querySelectorAll(".candidate_button"),a=document.querySelector(".candidate_clan_buttons_wrap")),"count"===n.id&&(e=document.querySelectorAll(".section"),a=document.querySelector(".three_depth_menu")),"newsList"===n.id&&(e=document.querySelectorAll(".news_cluster_list > li"),a=document.querySelector(".keyword_swiper:not(.main)"));const o=document.querySelector(".nav");e.forEach(e=>{if(e.id===window.location.search.split("&")[window.location.search.split("&").length-1]){const t=e.offsetTop;""!==e.id&&"count"!==n.id&&e.classList.add("target"),""!==e.id&&"newsList"!==n.id&&window.scrollTo({top:o&&a?t-(o.offsetHeight-11+a.offsetHeight):t-(o.offsetHeight-11)}),""!==e.id&&"newsList"===n.id&&setTimeout(()=>{window.scrollTo({top:o&&a?t-(o.offsetHeight-11+a.offsetHeight):t-(o.offsetHeight-11)})},300)}})}function candidateTargeting(){var e=document.querySelector(".nav"),t=document.querySelector(".candidate_title_wrap");"candidate_target"===window.location.search.split("&")[window.location.search.split("&").length-1]&&(t=t.offsetTop,window.scrollTo({top:t-(e.offsetHeight-11)}))}window.addEventListener("scroll",handleScroll);var Graph=function(){function e(e,t){this.target=document.getElementById(t),this.ctx=this.target.getContext("2d"),this.DATA=e,this.cacheX=[],this.currentIdx,this.setCanvasSize()}let i="";function t(e){i=e.matches?"dark":"light"}function h(e,t,n,a,o,c){e.beginPath(),e.moveTo(t,n),e.lineTo(a,o),e.strokeStyle=c,e.lineWidth=1,e.stroke()}return t(window.matchMedia("(prefers-color-scheme: dark)")),window.matchMedia("(prefers-color-scheme: dark)").addListener(t),e.prototype.loop=function(e,t){for(var n=0;n<e;)t(this,n),n++},e.prototype.setCanvasSize=function(){this.width=this.target.clientWidth,this.height=this.target.clientHeight,this.target.width=this.width,this.target.height=this.height;var e=(window.devicePixelRatio||1)/(this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1);this.target.width=this.width*e,this.target.height=this.height*e,this.ctx.scale(e,e),this.cacheX=[]},e.prototype.lineGraph=function(v){this.currentIdx=function(){for(var e=v.x.length;e--;){if("end"===v.current)return v.x.length-2;if(v.x[e]===v.current)return e}}();var c=this.width/v.x.length;this.loop(v.x.length,function(e,t){var n=e.currentIdx===t?v.color:"dark"===i?"#464646":"#e5e5e5",a=c*t,o=a+c/2;e.currentIdx===t&&(e.ctx.fillStyle="dark"===i?"#121212":"#ecedf9",e.ctx.fillRect(o-15,0,30,e.height)),h.call(null,e.ctx,o,0,o,e.height,n),e.cacheX.push(a+c/2)}),this.loop(this.DATA.length,function(f,p){var m=0;f.loop(f.DATA[p].data.length,function(e,t){var n,a,o,c=e.DATA[p].data[t],i=e.DATA[p].data[t+1],l=e.cacheX[t],r=e.height-e.height/100*c,s=e.cacheX[t+1],d=e.height-e.height/100*e.DATA[p].data[t+1],u=e.DATA[p].color;c&&(i||(s=e.cacheX[t+2],d=e.height-e.height/100*e.DATA[p].data[t+2]),h(e.ctx,l,r,s,d,u),e.DATA[p].text&&(m++,i=e.ctx,s=l,d=r-11,n=f.DATA[p].activeData&&t===f.currentIdx?{font:"bold 13px Arial",align:"center",color:"#fff"}:f.DATA[p].text,c=c.toFixed(1),o=s,1===(a=m)&&10<=c?o=s+4:12===a&&(o=s-3),i.canvas.style.letterSpacing="-0.02em",i.fillStyle=n.color,i.textAlign=n.align,"#fff"===n.color?(i.font=n.font,i.strokeStyle="#CD20A7",i.lineWidth=6):(i.font="bold 11px Arial",i.strokeStyle="#fff",i.lineWidth=2),i.strokeText(c,+o,+d),i.fillText(c,o,d)),a=e.ctx,s=l,n=r,i=f.DATA[p].activeData&&t===f.currentIdx?5:v.dotSize,c=u,a.beginPath(),a.arc(s,n,i,0,2*Math.PI),5<=i?(a.strokeStyle=c,a.lineWidth=2,a.fillStyle="white",a.fill("evenodd"),a.stroke()):(a.fillStyle=c,a.fill()))})})},e}();function voteTimeTable({start:e,end:t,current:n}){var a=document.querySelectorAll(".scroll_time th"),o=new Date(n).getHours()<10?"0"+new Date(n).getHours():new Date(n).getHours(),n=new Date(n).getMinutes()<10?"0"+new Date(n).getMinutes():new Date(n).getMinutes();const c=document.querySelectorAll(".scroll_time_cell");new Date>=new Date(e)&&new Date<new Date(t)&&(o<=18&&a[o-7].classList.add("active"),19<=o&&n<30&&a[11].classList.add("active"),19<=o)&&30<=n&&a[12].classList.add("active"),a.forEach(function(e,t){e.classList.contains("active")&&c.forEach(function(e){e.querySelectorAll("td")[t].classList.add("active")})})}function voteMapGuidePopupUI(){const e=document.querySelector(".dimmed"),t=document.querySelector(".cluster_title_more_wrap .info"),n=document.querySelector(".map_info_layer_popup");e.addEventListener("click",function(e){e.target===e.currentTarget&&(e.target.classList.remove("active"),n.classList.remove("active"),t.classList.remove("active"))}),t.addEventListener("click",function(){n.classList.add("active"),e.classList.add("active"),t.classList.add("active")})}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("a.disabled"),e=(e&&e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault()})}),document.querySelectorAll("#contents article a"));e&&e.forEach(function(e){e.style.color=""})}),addEventListener("DOMContentLoaded",function(){var t,n,a,o,c,i,l,r,e,s,d;document.getElementById("type2")?(t=document.querySelector("#header [aria-expanded]"),n=!!t&&document.getElementById(t.getAttribute("aria-controls")),a=n?n.querySelector('[type="search"]'):null,o=n?n.querySelector(".delete"):null,c=!1,i=function(){a=n.querySelector('[type="search"]'),d=setInterval(function(){0<a.value.length?o.style.display="block":o.style.display="none"},100)},l=function(e){e.preventDefault(),a=n.querySelector('[type="search"]');e=document.createElement("input");e.type="search",e.placeholder=a.placeholder,e.name="q",a.name&&(e.name=a.name),a.id&&(e.id=a.id),n.querySelector("fieldset").removeChild(a),n.querySelector("fieldset").appendChild(e),e.addEventListener("focus",i),e.addEventListener("blur",function(){clearInterval(d)}),e.focus()},t&&(t.addEventListener("click",function(){c||olapclick("RAX81")}),t.addEventListener("click",function(e){e.preventDefault(),c=!c,a=n.querySelector('[type="search"]'),t.setAttribute("aria-expanded",c),c?t.classList.add("on"):t.classList.remove("on"),n.style.display=c?"block":"none",a&&c?(o.addEventListener("click",l),a.addEventListener("focus",i),a.addEventListener("blur",function(){clearInterval(d)}),a.focus(),e.preventDefault(),a.value="",a.focus()):o.removeEventListener("click",l)}))):(r=document.querySelector("input[type=search]"),e=document.querySelector(".searchWrap"),s=document.querySelector(".searchWrap .delete"),r&&(addEventHandler(r,"focusin",function(){e.className=1<e.className.indexOf("ab-test")?"searchWrap on ab-test":"searchWrap on",d=setInterval(function(){0<r.value.length?s.style.display="block":s.style.display="none"},100)}),addEventHandler(r,"focusout",function(){e.className=1<e.className.indexOf("ab-test")?"searchWrap on ab-test":"searchWrap"}),addEventHandler(r,"blur",function(){clearInterval(d)}),addEventHandler(s,"click",function(e){e.preventDefault(),clearInterval(d),r.value="",s.style.display="none",r.focus()})))});
//# sourceMappingURL=election2024.js.map
